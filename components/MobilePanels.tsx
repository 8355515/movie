'use client'; import React,{useState,useEffect} from 'react'; export default function MobilePanels(){ const [active,setActive]=useState<'fav'|'hist'>('fav'); const [favs,setFavs]=useState([]); const [hist,setHist]=useState([]); useEffect(()=>{ async function f(){ setFavs(await (await fetch('/api/favorites')).json()); setHist(await (await fetch('/api/history')).json()); } f(); },[]); return (<div className="fixed bottom-12 left-0 right-0 bg-gray-800 text-white p-4"><div className="flex justify-around mb-2"><button onClick={()=>setActive('fav')} className={active==='fav'?'font-bold':''}>收藏</button><button onClick={()=>setActive('hist')} className={active==='hist'?'font-bold':''}>历史</button></div><div className="max-h-40 overflow-y-auto">{active==='fav'&&favs.map((f:any,i:number)=>(<div key={i} className="p-2 border-b">{f.title}</div>))}{active==='hist'&&hist.map((h:any,i:number)=>(<div key={i} className="p-2 border-b">{h.title} - {h.progress}%</div>))}</div></div>) }